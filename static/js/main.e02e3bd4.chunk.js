(this["webpackJsonpmy-react-app"]=this["webpackJsonpmy-react-app"]||[]).push([[0],{172:function(e,t,n){},174:function(e,t,n){},176:function(e,t,n){},181:function(e,t,n){},184:function(e,t,n){},185:function(e,t,n){},188:function(e,t,n){},189:function(e,t,n){},190:function(e,t,n){},191:function(e,t,n){},192:function(e,t,n){},193:function(e,t,n){},194:function(e,t,n){},195:function(e,t,n){},196:function(e,t,n){},197:function(e,t,n){},198:function(e,t,n){},199:function(e,t,n){},200:function(e,t,n){},201:function(e,t,n){},202:function(e,t,n){},203:function(e,t,n){},204:function(e,t,n){},205:function(e,t,n){},206:function(e,t,n){},207:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),c=n(33),r=n.n(c),i=n(14),o=(n(133),n(172),n(173),n.p,n(16)),l=(n(174),n(48)),d=n(15),u=n(149),j=n(150),b="",m="";"localhost:3000"===window.location.host?(m="30bda40009804cc0b810a094d8653182",b="http://localhost:3000/capstonegroup7/"):(m="7a4ffd2d4afc4f4d876826b6d369ab66",b="https://sarahedwards715.github.io/capstonegroup7/");var p="https://flicker-tropical-umbra.glitch.me/",h=function(e){var t=e;return console.log(t,"from backend"),fetch(p+"userProfile/"+e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()}))},O=function(e,t){return fetch(p+"userPlaylists/"+e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+t}}).then((function(e){return e.json()}))},f="https://api.spotify.com/v1/",v=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15,a=f+"recommendations?limit="+encodeURIComponent(n)+"&seed_artists="+encodeURIComponent(",")+"&seed_genres="+encodeURIComponent(t)+"&seed_tracks="+encodeURIComponent(",");return fetch(a,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e}}).then((function(e){return e.json()}))},x=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=f+"artists/"+t+"/albums?market=US&limit="+encodeURIComponent(n)+"&offset="+encodeURIComponent(a);return fetch(s,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e}}).then((function(e){return e.json()}))},g=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,c=f+"search?query="+encodeURIComponent(t)+"&type="+encodeURIComponent(n)+"&offset="+encodeURIComponent(s)+"&limit="+encodeURIComponent(a);return fetch(c,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e}}).then((function(e){return e.json()}))},y="https://accounts.spotify.com/authorize?client_id="+m+"&redirect_uri="+encodeURIComponent(b)+"&response_type=token&state=standUpLazerous",N=Object(u.a)(Object(j.devtools)((function(e,t){return{user:{username:"",moodifyToken:""},setUser:function(t,n){e({user:{username:t,moodifyToken:n}})},userPlaylists:[],setUserPlaylists:function(){t().accessToken&&O(t().user.username).then((function(t){return e({userPlaylists:t})}))},moodifyUserInfo:{displayName:"",createdAt:"",_id:""},setMoodifyUserInfo:function(t,n,a){e({moodifyUserInfo:{displayName:t,createdAt:n,_id:a}})},accessToken:"",setAccessToken:function(t){e({accessToken:t})},accessExpiresIn:null,setExpiresIn:function(t){e({accessExpiresIn:t})},authURL:y,moodsArray:[],setMoodsArray:function(){var n;t().accessToken&&(n=t().accessToken,fetch(f+"recommendations/available-genre-seeds",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+n}}).then((function(e){return e.json()}))).then((function(t){e({moodsArray:t.genres})}))},playlists:[],setPlaylists:function(){t().accessToken&&fetch(p+"playlists",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log("Playlists",t),e({playlists:t})}))},logout:function(){e({user:{username:"",moodifyToken:""},accessToken:"",accessExpiresIn:"",createdPlaylistData:{title:"",description:"",songs:[]}})},createdPlaylistData:{title:"",description:"",songs:[]},clearCreatedPlaylistData:function(){e({createdPlaylistData:{title:"",description:"",songs:[]}})},setCreatedPlaylistData:function(n){var a=t().createdPlaylistData;e({createdPlaylistData:Object(d.a)(Object(d.a)({},a),{},{title:n.title,description:n.description})})},addCreatedPlaylistSongs:function(n){var a=t().createdPlaylistData,s=t().createdPlaylistData.songs;e({createdPlaylistData:Object(d.a)(Object(d.a)({},a),{},{songs:[].concat(Object(l.a)(s),[n])})})},deleteCreatedPlaylistSongs:function(n){var a=t().createdPlaylistData,s=t().createdPlaylistData.songs.findIndex((function(e){return e.id===n})),c=Object(l.a)(t().createdPlaylistData.songs);c.splice(s,1),e({createdPlaylistData:Object(d.a)(Object(d.a)({},a),{},{songs:c})})},createdPlaylistEditMode:{active:!1,playlist_id:null},setCreatedPlaylistEditMode:function(n){var a;(null===(a=t().createdPlaylistEditMode)||void 0===a?void 0:a.active)?e({createdPlaylistEditMode:{active:!1,playlist_id:null}}):e({createdPlaylistEditMode:{active:!0,playlist_id:n}})},setCreatedPlaylistEditData:function(t){e({createdPlaylistData:{title:t.title,description:t.description,songs:t.songs}})},selectedTrackToPlay:"",setSelectedTrackToPlay:function(t){e({selectedTrackToPlay:t})},premiumLoginCode:"",setPremiumLoginCode:function(t){e({premiumLoginCode:t})}}}))),C=n(9),T=n(51),P=(n(176),n(96)),w=n(227),k=function(e,t,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",c=Object(a.useState)({}),r=Object(C.a)(c,2),i=r[0],o=r[1],l=Object(a.useState)(!1),d=Object(C.a)(l,2),u=d[0],j=d[1],b=function(e){e.preventDefault(),j(!0),o(t(n,s)),console.log("errors from handle validate",i)};return Object(a.useEffect)((function(){0===Object.keys(i).length&&u&&e()}),[i]),{handleValidate:b,errors:i,setErrors:o}};var S=function(e,t){var n={};return e.username.trim()?e.username.length<3&&(n.username="Username Must Have At Least 3 Characters!"):n.username="Username Is Required!",e.username.includes(" ")&&(n.username="Username Must Not Contain Whitespace!"),e.username.match(/^\W+$/)&&(n.username="Usernames Must Not Contain Non-Alphanumeric Characters!"),e.username.length>30&&(n.username="Username May Have No More Than 30 Characters!"),e.displayName.trim()?e.displayName.length<3&&(n.displayName="Display Name Must Have At Least 3 Characters!"):n.displayName="Display Name Is Required!",e.displayName.length>30&&(n.displayName="Display Name May Have No More Than 30 Characters!"),e.password.trim()?e.password.length<3&&(n.password="Password Must Have At Least 3 Characters!"):n.password="Password Is Required!",e.password.length>30&&(n.password="Password May Have No More Than 30 Characters!"),n},A=n(1);var E=function(e){var t=Object(a.useState)(!1),n=Object(C.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)({username:"",displayName:"",password:""}),i=Object(C.a)(r,2),o=i[0],l=i[1];function u(e){l((function(t){return Object(d.a)(Object(d.a)({},t),{},Object(T.a)({},e.target.name,e.target.value))}))}var j=k((function(t){e.setRegisterInProgress(!0),function(e){return fetch(p+"users",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:e.username,displayName:e.displayName,password:e.password})}).then((function(e){return e.json()}))}(o).then((function(t){if(201===t.statusCode&&(e.setRegisterInProgress(!1),c(!0)),400===t.statusCode&&11e3===t.databaseErrorCode){var n=Object(d.a)(Object(d.a)({},m),{},{username:t.message});e.setRegisterInProgress(!1),h(n)}}))}),S,o),b=j.handleValidate,m=j.errors,h=j.setErrors;return Object(A.jsx)("div",{className:"userRegistrationWrapper",children:s?Object(A.jsx)(A.Fragment,{children:Object(A.jsxs)("div",{className:"userRegistrationSuccessBanner",children:[Object(A.jsx)(P.a,{className:"userRegistrationResetButton",onClick:function(e){return c(!1),void l({username:"",displayName:"",password:""})},children:"Reset Form"}),Object(A.jsx)("p",{className:"userRegistrationSuccessText",children:"You've Successfully Registered!"}),Object(A.jsx)("p",{className:"userRegistrationSuccessText",children:"Try Logging In!"})]})}):Object(A.jsx)("div",{className:"formContainer",children:Object(A.jsxs)(w.a,{onSubmit:function(e){return b(e)},children:[Object(A.jsxs)(w.a.Group,{children:[Object(A.jsx)(w.a.Label,{className:"formLabel",children:"Username"}),Object(A.jsx)(w.a.Control,{name:"username",placeholder:"Username",isInvalid:m.username,onChange:function(e){return u(e)}}),Object(A.jsx)(w.a.Control.Feedback,{type:"invalid",children:m.username})]}),Object(A.jsxs)(w.a.Group,{children:[Object(A.jsx)(w.a.Label,{className:"formLabel",children:"Display Name"}),Object(A.jsx)(w.a.Control,{name:"displayName",placeholder:"Display Name",isInvalid:m.displayName,onChange:function(e){return u(e)}}),Object(A.jsx)(w.a.Control.Feedback,{type:"invalid",children:m.displayName})]}),Object(A.jsxs)(w.a.Group,{children:[Object(A.jsx)(w.a.Label,{className:"formLabel",children:"Password"}),Object(A.jsx)(w.a.Control,{name:"password",placeholder:"Password",type:"password",isInvalid:m.password,onChange:function(e){return u(e)}}),Object(A.jsx)(w.a.Control.Feedback,{type:"invalid",children:m.password})]}),Object(A.jsx)(P.a,{type:"submit",children:"Register"})]})})})};n(181);var L=function(e){var t={};return e.username||(t.username="Please Enter Your Username!"),e.password||(t.password="Please Enter Your Password!"),t};var B=function(e){var t=N((function(e){return e.setUser})),n=Object(a.useState)(!1),s=Object(C.a)(n,2),c=s[0],r=s[1],i=Object(a.useState)({username:"",password:""}),l=Object(C.a)(i,2),u=l[0],j=l[1],b=Object(o.f)();function m(e){j((function(t){return Object(d.a)(Object(d.a)({},t),{},Object(T.a)({},e.target.name,e.target.value))}))}Object(a.useEffect)((function(){c&&b.push("/home")}),[c]);var h=k((function(n){e.setLoginInProgress(!0),function(e){return fetch(p+"users/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:e.username,password:e.password})}).then((function(e){return e.json()}))}(u).then((function(n){if(200===n.statusCode&&(t(n.userInfo.username,n.moodifyToken),e.setLoginInProgress(!1),r(!0)),404===n.statusCode){var a=Object(d.a)(Object(d.a)({},f),{},{username:n.message});e.setLoginInProgress(!1),v(a)}if(400===n.statusCode){var s=Object(d.a)(Object(d.a)({},f),{},{password:n.message});v(s),e.setLoginInProgress(!1)}}))}),L,u),O=h.handleValidate,f=h.errors,v=h.setErrors;return Object(A.jsx)("div",{className:"userLoginWrapper",children:Object(A.jsx)("div",{className:"loginFormContainer",children:Object(A.jsxs)(w.a,{onSubmit:function(e){return O(e)},children:[Object(A.jsxs)(w.a.Group,{children:[Object(A.jsx)(w.a.Label,{className:"formLabel",children:"Username"}),Object(A.jsx)(w.a.Control,{name:"username",placeholder:"Username",isInvalid:f.username,onChange:function(e){return m(e)}}),Object(A.jsx)(w.a.Control.Feedback,{type:"invalid",children:f.username})]}),Object(A.jsxs)(w.a.Group,{children:[Object(A.jsx)(w.a.Label,{className:"formLabel",children:"Password"}),Object(A.jsx)(w.a.Control,{name:"password",placeholder:"Password",type:"password",isInvalid:f.password,onChange:function(e){return m(e)}}),Object(A.jsx)(w.a.Control.Feedback,{type:"invalid",children:f.password})]}),Object(A.jsx)(P.a,{type:"submit",children:"Login"})]})})})},R=(n(70),n(222));n(221);"localhost:3000"===window.location.host?"30bda40009804cc0b810a094d8653182":"7a4ffd2d4afc4f4d876826b6d369ab66";var I=function(e){var t=N((function(e){return e.accessToken})),n=N((function(e){return e.setAccessToken})),s=N((function(e){return e.setExpiresIn})),c=N((function(e){return e.authURL})),r=Object(a.useState)(!1),i=Object(C.a)(r,2),o=i[0],l=i[1],d=Object(a.useState)(!1),u=Object(C.a)(d,2),j=u[0],b=u[1],m=Object(a.useState)(!1),p=Object(C.a)(m,2),h=p[0],O=p[1];return Object(a.useEffect)((function(){if(window.location.hash){var e=window.location.hash.substring(1).split("&").reduce((function(e,t){if(t){var n=t.split("=");e[n[0]]=decodeURIComponent(n[1])}return e}),{}),t=e.access_token;t&&n(t);var a=e.expires_in;a&&s(a),window.location.hash=""}}),[]),Object(A.jsxs)("div",{className:"landingWrapper",children:[o?Object(A.jsx)("div",{className:"landingTitleContainer",children:Object(A.jsx)("span",{className:"landingTitleText",children:"new user"})}):Object(A.jsx)("div",{className:"landingTitleContainer",children:Object(A.jsx)("span",{className:"landingTitleText",children:"moodify"})}),Object(A.jsxs)("div",{className:"landingFormWrapper",children:[(j||h)&&Object(A.jsx)("div",{className:"loginLoaderWrapper",children:Object(A.jsx)("div",{className:"loaderDefiner",children:Object(A.jsx)(R.a,{active:!0,size:"big",children:"Communicating With Server . . ."})})}),t?Object(A.jsxs)(A.Fragment,{children:[o?Object(A.jsx)(E,{setRegisterInProgress:O}):Object(A.jsx)(B,{setLoginInProgress:b}),Object(A.jsx)("div",{className:"newUserButtonWrapper",children:Object(A.jsx)(P.a,{onClick:function(){l(!o)},children:o?"Click Here to Login":"Create a New Account"})})]}):Object(A.jsx)("div",{className:"spotAuthWrapper",children:Object(A.jsx)("a",{className:"authBtn",href:c,children:"Authorize With Spotify"})})]})]})},U=(n(184),n(185),n(42));var D=function(e){return Object(A.jsx)(U.a,{className:"moodCard",children:Object(A.jsx)(U.a.Body,{children:Object(A.jsx)(i.b,{className:"moodTitles",to:"/browse/".concat(e.mood),children:e.mood})})})},W=n(229);var M=function(e){var t=N((function(e){return e.moodsArray}));return Object(A.jsxs)("div",{className:"moodsListWrapper",children:[Object(A.jsx)("div",{className:"moodsListBanner",children:"moods"}),Object(A.jsx)("div",{className:"moodsContainer",children:Object(A.jsx)(W.a.Group,{textAlign:"center",className:"moodlistsContainer",children:t.map((function(e,t){return Object(A.jsx)(D,{mood:e},t)}))})})]})},_=(n(188),n(189),n(190),n(232)),F=n(225);var H=function(e){return Object(A.jsx)("div",{className:"deletionModalWrapper",children:Object(A.jsxs)(F.a,{className:"deletionModal",centered:!0,onExited:function(){return e.setVisible(!1)},onShow:function(){return e.setVisible(!0)},show:e.visible,children:[Object(A.jsx)(F.a.Body,{children:Object(A.jsxs)("p",{children:["Are you sure you wish to delete this ",e.deleteTarget,"?"]})}),Object(A.jsxs)(F.a.Footer,{children:[Object(A.jsx)(_.a,{compact:!0,onClick:function(){return e.setVisible(!1)},children:"On Second Thought..."}),Object(A.jsx)(_.a,{compact:!0,negative:!0,onClick:function(){e.setVisible(!1),e.deleteFunction()},children:"Yes, I'm Sure."})]})]})})};var z=function(e){var t=N((function(e){return e.user})),n=N((function(e){return e.setPlaylists})),s=(N((function(e){return e.createdPlaylistData})),N((function(e){return e.setCreatedPlaylistEditData}))),c=N((function(e){return e.setCreatedPlaylistEditMode})),r=Object(o.f)(),l=Object(a.useState)(!1),d=Object(C.a)(l,2),u=d[0],j=d[1];console.log(e.playlist);var b=e.playlist.reviews.reduce((function(e,t,n,a){return!0===a[n].thumbsUp&&(e+=1),e}),0);return Object(A.jsx)(U.a,{className:"playlistsCard",children:Object(A.jsxs)(U.a.Body,{children:[Object(A.jsx)(U.a.Title,{children:Object(A.jsx)(i.b,{className:"playlistTitles",to:"/playlists/".concat(e.playlist._id),style:{color:"black"},children:e.playlist.title})}),Object(A.jsxs)(U.a.Text,{children:["by ",e.playlist.username]}),Object(A.jsx)(U.a.Text,{children:Object(A.jsxs)("div",{className:"playlistTotalLikes",children:[b," likes"]})}),e.showDescription&&Object(A.jsx)(U.a.Text,{children:e.playlist.description}),t.username===e.playlist.username&&Object(A.jsxs)(U.a.Footer,{children:[Object(A.jsx)(P.a,{variant:"success",className:"editPlaylistButton",onClick:function(t){return c(e.playlist._id),void s(e.playlist)},children:"Edit"}),Object(A.jsx)(P.a,{variant:"danger",className:"deletePlaylistButton",onClick:function(e){return j(!0)},children:"Delete"})]}),Object(A.jsx)(H,{deleteTarget:"Playlist",deleteFunction:function(a){var s,c;(s=e.playlist._id,c=t.moodifyToken,fetch(p+"playlists/"+s,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+c}}).then((function(e){return e.json()}))).then((function(e){200===e.statusCode&&(n(),r.push("/home"))}))},setVisible:j,visible:u})]})})};var G=function(e){var t=N((function(e){return e.playlists}));return N((function(e){return e.moodifyUserInfo})),Object(A.jsxs)("div",{className:"playlistsListWrapper",children:[Object(A.jsx)("div",{className:"playlistsListBanner",children:"playlists"}),Object(A.jsx)("div",{className:"playlistsContainer",children:Object(A.jsx)(W.a.Group,{textAlign:"center",children:t.map((function(e){return Object(A.jsx)(z,{playlist:e},e._id)}))})})]})};var V=function(e){var t=N((function(e){return e.moodsArray})),n=N((function(e){return e.setMoodsArray})),s=N((function(e){return e.playlists})),c=N((function(e){return e.setPlaylists}));return N((function(e){return e.selectedTrackToPlay})),Object(a.useEffect)((function(){n(),c()}),[]),Object(A.jsxs)("div",{className:"browseWrapper",children:[Object(A.jsx)("div",{className:"audioPlayerWrapper"}),Object(A.jsx)("div",{className:"browseBodyWrapper",children:t.length&&s.length?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(M,{}),Object(A.jsx)(G,{})]}):Object(A.jsx)(R.a,{active:!0,size:"big",children:"Loading..."})})]})},J=(n(191),n(228));var q=function(e){var t=e.song,n=t.name,a=t.album,s=t.artists,c=t.duration_ms,r=(t.popularity,t.id),o=N((function(e){return e.user})),l=N((function(e){return e.createdPlaylistData})),d=N((function(e){return e.setSelectedTrackToPlay})),u=N((function(e){return e.addCreatedPlaylistSongs})),j=N((function(e){return e.deleteCreatedPlaylistSongs})),b=function(e){var t=Math.floor(e/6e4),n=(e%6e4/1e3).toFixed(0);return t+":"+(n<10?"0":"")+n}(c);return Object(A.jsxs)(J.a.Row,{children:[o.username&&o.moodifyToken&&Object(A.jsxs)(J.a.Cell,{width:"2",children:[l.songs.some((function(e){return e.id===r}))?Object(A.jsx)(_.a,{compact:!0,size:"mini",className:"blue",style:{padding:"7%",margin:"1%",width:"80px"},onClick:function(){return j(r)},children:e.compact?"Delete":"Delete from Playlist"}):Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(_.a,{compact:!0,size:"mini",className:"blue",style:{padding:"7%",margin:"1%",width:"80px"},onClick:function(){return u(e.song)},children:e.compact?"Add":"Add Song"})}),e.song.preview_url?Object(A.jsx)(_.a,{size:"mini",className:"green",style:{padding:"7%",margin:"1%",width:"80px"},onClick:function(){d(e.song.preview_url)},children:"Preview"}):""]}),Object(A.jsx)(J.a.Cell,{children:n}),Object(A.jsx)(J.a.Cell,{children:Object(A.jsx)(i.b,{to:"/artists/"+s[0].id,children:s[0].name})}),e.compact||Object(A.jsx)(J.a.Cell,{children:a?Object(A.jsx)(i.b,{to:"/albums/"+a.id,children:a.name}):Object(A.jsx)("p",{children:e.albumName})}),e.compact||Object(A.jsx)(J.a.Cell,{children:b})]})},Y=function(e){var t=Object(a.useState)(!1),n=Object(C.a)(t,2),s=n[0],c=n[1];return Object(a.useEffect)((function(){s&&setTimeout((function(){e&&e(),console.log("AT BOTTOM FROM HOOK"),c(!1)}),1e3)}),[s]),[s,c]};var K=function(e){var t=N((function(e){return e.user})),n=Y(e.infiniteScrollCallback||null),a=Object(C.a)(n,2),s=(a[0],a[1]);return Object(A.jsx)("div",{onScroll:function(e){return function(e){var t=e.target;t.scrollHeight-t.scrollTop===t.clientHeight&&s(!0)}(e)},className:"songListWrapper",children:Object(A.jsxs)(J.a,{collapsing:e.collapsing,compact:e.compact,size:"small",children:[Object(A.jsx)(J.a.Header,{children:Object(A.jsxs)(J.a.Row,{children:[t.username&&t.moodifyToken&&Object(A.jsx)(J.a.HeaderCell,{children:"Controls"}),Object(A.jsx)(J.a.HeaderCell,{children:"Track"}),Object(A.jsx)(J.a.HeaderCell,{children:"Artist"}),e.compact||Object(A.jsx)(J.a.HeaderCell,{children:"Album"}),e.compact||Object(A.jsx)(J.a.HeaderCell,{children:"Time"})]})}),Object(A.jsx)(J.a.Body,{children:e.songs&&e.songs.map((function(t){return Object(A.jsx)(q,{song:t,compact:e.compact,collapsing:e.collapsing,albumName:e.albumName||"ignore"},t.id)}))})]})})},$=(n(192),n(193),n(194),n(91));var Q=function(e){return console.log(e),Object(A.jsx)("div",{className:"reviewsItemsWrapper",children:Object(A.jsxs)(U.a,{fluid:!0,children:[Object(A.jsx)(U.a.Title,{children:e.review.username}),Object(A.jsxs)(U.a.Text,{children:[e.review.thumbsUp&&Object(A.jsx)("span",{children:Object(A.jsx)($.a,{name:"like"})}),e.review.description]})]})})};var X=function(e){var t;return Object(A.jsxs)("div",{className:"reviewsDisplayWrapper",children:[Object(A.jsx)("div",{className:"viewsSubBanner",children:"reviews"}),Object(A.jsx)("div",{className:"reviewsContainer",children:Object(A.jsx)(W.a.Group,{children:null===(t=e.reviews)||void 0===t?void 0:t.map((function(e){return Object(A.jsx)(Q,{review:e},e._id)}))})})]})},Z=(n(195),n(224)),ee=n(223);var te=function(e){var t=N((function(e){return e.user})),n=N((function(e){return e.setPlaylists})),s=Object(a.useState)(!1),c=Object(C.a)(s,2),r=c[0],i=c[1],o=Object(a.useState)(" "),l=Object(C.a)(o,2),d=l[0],u=l[1],j=Object(a.useState)(!1),b=Object(C.a)(j,2),m=(b[0],b[1],Object(a.useState)([])),h=Object(C.a)(m,2),O=(h[0],h[1]);function f(a){a.preventDefault(),function(e,t,n,a,s){return console.log(e),fetch(p+"reviews",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+a},body:JSON.stringify({playlist_id:e,username:s,description:t,thumbsUp:n})}).then((function(e){return e.json()}))}(e.playlist_id,d,r,t.moodifyToken,t.username).then((function(e){console.log(e),201===e.statusCode&&(n(),u(""))}))}return Object(a.useEffect)((function(){var t;(t=e.playlist_id,fetch(p+"reviews/".concat(t)).then((function(e){return e.json()}))).then((function(e){O(e)}))}),[]),Object(A.jsxs)("div",{className:"reviewsWrapper",children:[Object(A.jsx)("div",{className:"viewsSubBanner",children:"leave a review"}),Object(A.jsxs)(Z.a,{onSubmit:function(e){return f(e)},children:[Object(A.jsx)(Z.a.Field,{id:"form-textarea-control-opinion",control:ee.a,label:"Playlist Review",placeholder:"Playlist Review",onChange:function(e){return u(e.target.value)},value:d}),Object(A.jsxs)(_.a,{className:"icon ".concat(r?"default_like":"active_like"),as:"Love",labelPosition:"left",onClick:function(e){return i(!r)},type:"submit",color:"red",children:[Object(A.jsx)($.a,{name:"heart"}),"I love !"]}),Object(A.jsx)(_.a,{onClick:"click",type:"submit",children:"Send my Review"})]})]})};var ne=function(e){var t=N((function(e){return e.playlists})),n=Object(a.useState)(""),s=Object(C.a)(n,2),c=s[0],r=s[1],i=Object(a.useState)({}),l=Object(C.a)(i,2),d=l[0],u=l[1],j=Object(o.f)();function b(){var t;(t=e.match.params.playlist_id,fetch(p+"playlists/"+t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()}))).then((function(e){console.log(e),404!==e.statusCode&&400!==e.statusCode||r(e.message),u(e)}))}return Object(a.useEffect)((function(){b()}),[]),Object(a.useEffect)((function(){b()}),[t]),console.log(d),Object(A.jsxs)("div",{className:"playlistPageWrapper",children:[Object(A.jsx)("div",{className:"playlistTitleBanner",children:d.title}),Object(A.jsx)("div",{className:"playlistPageBody",style:{display:"flex",justifyContent:"space-evenly",alignItems:"center",marginTop:"5%"},children:c?Object(A.jsxs)("div",{className:"viewsErrorWrapper",children:[Object(A.jsxs)("div",{className:"viewsErrorBanner",children:[Object(A.jsx)("p",{children:"ERROR"}),Object(A.jsx)("p",{children:c})]}),Object(A.jsx)(P.a,{onClick:function(e){return j.push("/")},children:"Return to Landing"})]}):Object(A.jsx)("div",{children:d.songs?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("div",{className:"bodyLeftRow",children:Object(A.jsx)(z,{showDescription:!0,playlist:d})}),Object(A.jsx)("div",{className:"bodyRightRow",children:Object(A.jsx)(K,{songs:d.songs,collapsing:!1,compact:!1})})]}):Object(A.jsx)(R.a,{active:!0,size:"big",children:"Loading..."})})}),Object(A.jsx)("div",{className:"reviewFormWrapper",children:Object(A.jsx)(te,{playlist_id:e.match.params.playlist_id})}),Object(A.jsx)("div",{className:"playlistPageReviews",children:Object(A.jsx)(X,{reviews:d.reviews})})]})};var ae=function(e){return Object(A.jsxs)("div",{className:"notFoundWrapper",children:[Object(A.jsx)("div",{className:"notFoundBanner",children:Object(A.jsx)("p",{className:"notFoundText",children:"404! Page Not Found"})}),Object(A.jsx)(i.b,{to:"/",className:"notFoundReturn",children:"Return to the Landing Page!"})]})};var se=function(e){var t=Object(a.useState)([]),n=Object(C.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)(""),i=Object(C.a)(r,2),d=i[0],u=i[1],j=N((function(e){return e.accessToken})),b=(N((function(e){return e.selectedTrackToPlay})),Object(o.f)());return Object(a.useEffect)((function(){v(j,e.match.params.mood).then((function(e){var t,n;400!==(null===(t=e.error)||void 0===t?void 0:t.status)&&404!==(null===(n=e.error)||void 0===n?void 0:n.status)||u(e.error.message),c(e.tracks)}))}),[]),Object(A.jsxs)("div",{className:"moodPageWrapper",children:[Object(A.jsx)("div",{className:"moodPageHeader",children:Object(A.jsx)("div",{className:"moodPageBanner",children:e.match.params.mood})}),Object(A.jsx)("div",{className:"moodPageBody",children:d?Object(A.jsxs)("div",{className:"viewsErrorWrapper",children:[Object(A.jsxs)("div",{className:"viewsErrorBanner",children:[Object(A.jsx)("p",{children:"ERROR"}),Object(A.jsx)("p",{children:d})]}),Object(A.jsx)(P.a,{onClick:function(e){return b.push("/")},children:"Return to Landing"})]}):Object(A.jsx)(A.Fragment,{children:Object(A.jsx)("div",{className:"moodPageSongListWrapper",children:Object(A.jsx)(K,{songs:s,collapsing:!1,compact:!1,infiniteScrollCallback:function(){return v(j,e.match.params.mood).then((function(e){var t,n;400!==(null===(t=e.error)||void 0===t?void 0:t.status)&&404!==(null===(n=e.error)||void 0===n?void 0:n.status)||u(e.error.message);var a=e.tracks.filter((function(e){return!s.includes(e)})),r=[].concat(Object(l.a)(s),Object(l.a)(a));c(r)}))}})})})})]})},ce=n(47),re=n.n(ce),ie=n(139),oe=(n(196),function(e){var t=N((function(e){return e.userPlaylists})),n=N((function(e){return e.moodifyUserInfo}));return console.log(t),Object(A.jsx)("div",{className:"userPlaylistsContainer",children:Object(A.jsx)(W.a.Group,{textAlign:"center",children:t.map((function(e){return Object(A.jsx)(z,{playlist:e,displayName:n.displayName},e._id)}))})})}),le=n(129),de=n(100),ue=(n(197),n(198),n(230));var je=function(e){var t={};return e.title.trim()?e.title.length<3&&(t.title="A Title Must Have A Least 3 Characters!"):t.title="A Playlist Must Have A Title!",e.title.length>50&&(t.title="A Title May Not Be Longer Than 50 Characters!"),e.description.length&&e.description.length<3&&(t.description="A Playlist's Description is Optional, but Must Have At Least 3 Characters!"),e.description.length>80&&(t.description="A Description May Not Be Longer Than 80 Characters!"),t};var be=function(){var e=N((function(e){return e.user})),t=N((function(e){return e.createdPlaylistData})),n=N((function(e){return e.createdPlaylistEditMode})),s=N((function(e){return e.setCreatedPlaylistData})),c=N((function(e){return e.clearCreatedPlaylistData})),r=N((function(e){return e.setCreatedPlaylistEditMode})),i=N((function(e){return e.setPlaylists})),o=Object(a.useState)(!1),l=Object(C.a)(o,2),u=l[0];function j(e){s(Object(d.a)(Object(d.a)({},t),{},Object(T.a)({},e.target.name,e.target.value)))}l[1];var b,m=k((function(a){n.active?function(e,t,n,a){var s={};return t.title&&(s.title=t.title),t.description&&(s.description=t.description),t.songs&&(s.songs=t.songs),console.log(s),fetch(p+"playlists/"+e,{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+a},body:JSON.stringify(Object(d.a)(Object(d.a)({},s),{},{username:n}))}).then((function(e){return e.json()}))}(n.playlist_id,t,e.username,e.moodifyToken).then((function(e){200===e.statusCode&&(i(),c(),r())})):function(e,t,n){return fetch(p+"playlists",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+n},body:JSON.stringify(Object(d.a)(Object(d.a)({},e),{},{username:t}))}).then((function(e){return e.json()}))}(t,e.username,e.moodifyToken).then((function(e){201===e.statusCode&&(i(),c())}))}),je,t),h=m.handleValidate,O=m.errors;return m.setErrors,b=u?"Success!":n.active?"Editing!":!n.active&&t.songs.length?"Creating!":"Standby!",Object(A.jsxs)("div",{className:"playlistCreationWrapper",children:[e.moodifyToken&&Object(A.jsx)("div",{className:"playlistCreationHeader",children:b}),0!==t.songs.length&&e.moodifyToken&&Object(A.jsxs)(A.Fragment,{children:[n.active&&Object(A.jsx)(ue.a,{warning:!0,children:"You Are In Edit Mode!"}),Object(A.jsx)(K,{songs:t.songs,collapsing:!0,compact:!0}),Object(A.jsxs)(w.a,{onSubmit:function(e){return h(e)},children:[Object(A.jsxs)(w.a.Group,{children:[Object(A.jsx)(w.a.Label,{className:"formLabel",children:"Playlist Title"}),Object(A.jsx)(w.a.Control,{name:"title",placeholder:"Title",isInvalid:O.title,onChange:function(e){return j(e)},value:t.title}),Object(A.jsx)(w.a.Control.Feedback,{type:"invalid",children:O.title})]}),Object(A.jsxs)(w.a.Group,{children:[Object(A.jsx)(w.a.Label,{className:"formLabel",children:"Playlist Description"}),Object(A.jsx)(w.a.Control,{name:"description",placeholder:"Description",isInvalid:O.description,onChange:function(e){return j(e)},value:t.description}),Object(A.jsx)(w.a.Control.Feedback,{type:"invalid",children:O.description})]}),Object(A.jsxs)(_.a.Group,{children:[Object(A.jsx)(_.a,{type:"submit",children:n.active?"Update Playlist":"Upload Playlist"}),Object(A.jsx)(_.a.Or,{}),Object(A.jsx)(_.a,{type:"reset",onClick:function(e){return c(),void(n.active&&r())},children:"Close"})]})]})]})]})},me=function(){var e=N((function(e){return e.user})),t=N((function(e){return e.moodifyUserInfo})),n=N((function(e){return e.setMoodifyUserInfo})),s=N((function(e){return e.setUserPlaylists})),c=N((function(e){return e.userPlaylists})),r=Object(a.useState)(""),i=Object(C.a)(r,2),o=i[0],l=i[1],d=Object(a.useState)(!1),u=Object(C.a)(d,2),j=u[0],b=u[1],m=Object(a.useState)(!1),f=Object(C.a)(m,2),v=f[0],x=f[1];return Object(a.useEffect)(Object(ie.a)(re.a.mark((function t(){var a;return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(e.username);case 2:a=t.sent,console.log(a,"inside useEffect"),n(a[0].displayName,a[0].createdAt,a[0]._id);case 5:case"end":return t.stop()}}),t)}))),[o]),Object(a.useEffect)(Object(ie.a)(re.a.mark((function t(){var n;return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O(e.username);case 2:n=t.sent,s(n);case 4:case"end":return t.stop()}}),t)}))),[]),Object(A.jsx)("div",{children:Object(A.jsxs)("div",{className:"userProfileWrapper",children:[Object(A.jsxs)("div",{className:"userProfileBanner",children:[e.username,"'s profile"]}),Object(A.jsxs)("div",{className:"displayNameBanner",children:[" @",t.displayName]}),Object(A.jsx)("button",{className:"deleteUserButton",onClick:function(e){return b(!0)},children:"Delete User"}),v?"":Object(A.jsx)("button",{onClick:function(){x(!v)},className:"editDisplayNameButton",children:"Edit"}),v?Object(A.jsxs)("div",{className:"editDisplayNameWrapper",children:[Object(A.jsxs)(le.a,{className:"mb-3 displayNameInputWrapper ",children:[Object(A.jsx)(le.a.Prepend,{children:Object(A.jsx)(le.a.Text,{id:"basic-addon1",children:"@"})}),Object(A.jsx)(de.a,{placeholder:"Username","aria-label":"Username","aria-describedby":"basic-addon1",onChange:function(e){return l(e.target.value)}})]}),Object(A.jsx)(P.a,{variant:"success",className:"submitDisplayNameButton",onClick:function(){!function(e,t,n){fetch(p+"users/"+e,{method:"PATCH",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+n},body:JSON.stringify({displayName:t})}).then((function(e){return e.json()}))}(t._id,o,e.moodifyToken),x(!v)},children:"Submit"})]}):"",Object(A.jsx)("div",{className:"userPlaylistsBanner",children:"my playlists"}),Object(A.jsx)(oe,{userPlaylists:c}),Object(A.jsx)(H,{deleteTarget:"User",deleteFunction:function(n){var a,s;a=t._id,s=e.moodifyToken,fetch(p+"users/"+a,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+s}}).then((function(e){return e.json()}))},setVisible:b,visible:j})]})})},pe=(n(199),function(){N((function(e){return e.selectedTrackToPlay}));return Object(A.jsx)(A.Fragment,{children:Object(A.jsx)("div",{className:"profileWrapper",children:Object(A.jsx)(me,{})})})}),he=(n(200),function(){var e=N((function(e){return e.accessToken})),t=N((function(e){return e.user})),n=(N((function(e){return e.premiumLoginCode})),Object(o.f)());return Object(A.jsx)("div",{className:"viewContainer",children:e&&t.moodifyToken?Object(A.jsx)(A.Fragment,{children:Object(A.jsx)(V,{})}):Object(A.jsxs)("div",{className:"viewsErrorWrapper",children:[Object(A.jsxs)("div",{className:"viewsErrorBanner",children:[Object(A.jsx)("p",{children:"Error"}),Object(A.jsx)("p",{children:"Invalid Credentials! Try Logging In Again!"})]}),Object(A.jsx)(P.a,{onClick:function(e){return n.push("/")},children:"Return to Landing"})]})})}),Oe=(n(201),n(226));n(202);var fe=function(){var e=Object(a.useState)(""),t=Object(C.a)(e,2),n=t[0],s=t[1],c=Object(o.f)();return Object(A.jsx)("div",{className:"searchBarWrapper",children:Object(A.jsx)(w.a,{onSubmit:function(e){return e.preventDefault(),void c.push("/search/"+encodeURIComponent(n))},children:Object(A.jsx)(w.a.Group,{children:Object(A.jsxs)(le.a,{hasValidation:!0,children:[Object(A.jsx)(le.a.Prepend,{children:Object(A.jsx)($.a,{name:"search"})}),Object(A.jsx)(w.a.Control,{name:"query",placeholder:"Search . . .",onChange:function(e){return s(e.target.value)},value:n}),Object(A.jsx)(le.a.Append,{children:Object(A.jsx)(P.a,{type:"submit",children:"Search"})})]})})})})};var ve=function(e){var t=N((function(e){return e.accessToken})),n=N((function(e){return e.logout})),s=Object(a.useState)("landing"),c=Object(C.a)(s,2),r=c[0],o=c[1],l=N((function(e){return e.setSelectedTrackToPlay})),d=function(e,t){o(t)};return Object(A.jsx)("div",{className:"navigationWrapper",children:Object(A.jsxs)(Oe.a,{pointing:!0,secondary:!0,className:"navigationMenu",children:[Object(A.jsx)(Oe.a.Item,{name:"landing",active:"landing"===r,children:Object(A.jsx)(i.b,{to:"/",onClick:function(e){return d(0,"landing")},children:"Landing"})}),t&&Object(A.jsx)(Oe.a.Item,{name:"home",active:"home"===r,children:Object(A.jsx)(i.b,{to:"/home",onClick:function(e){return d(0,"home")},children:"Home"})}),t&&Object(A.jsx)(Oe.a.Item,{name:"userProfile",active:"userProfile"===r,children:Object(A.jsx)(i.b,{to:"/userProfile",onClick:function(e){return d(0,"userProfile")},children:"User Profile"})}),t&&Object(A.jsx)(Oe.a.Item,{name:"logout",active:"logout"===r,children:Object(A.jsx)(i.b,{to:"/",onClick:function(e){return l([]),void n()},children:"Logout"})})]})})},xe=n.p+"static/media/albumPlaceholder.6309a46c.jpg",ge=n(231);n(203),n(204);var ye=function(e){var t;return Object(A.jsx)("div",{className:"albumCardsWrapper",children:Object(A.jsxs)(U.a,{className:"albumCard",children:[Object(A.jsx)(U.a.Img,{variant:"top",src:(null===(t=e.album.images[1])||void 0===t?void 0:t.url)||xe}),Object(A.jsx)(U.a.Text,{children:Object(A.jsx)(i.b,{to:"/albums/"+e.album.id,children:e.album.name})})]})})};var Ne=function(e){var t=Y(e.infiniteScrollCallback),n=Object(C.a)(t,2),a=(n[0],n[1]);return Object(A.jsx)("div",{className:"albumsListWrapper",children:Object(A.jsx)("div",{onScroll:function(e){return function(e){var t=e.target;t.scrollWidth-t.scrollLeft===t.clientWidth&&a(!0)}(e)},className:"albumsListCardContainer",children:e.albums.map((function(e){return Object(A.jsx)(ye,{album:e},e.id)}))})})};var Ce=function(e){var t=Object(a.useState)({name:"",artist:{},image:null,genres:[]}),n=Object(C.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)([]),o=Object(C.a)(r,2),l=o[0],d=o[1],u=Object(a.useState)([]),j=Object(C.a)(u,2),b=j[0],m=j[1],p=e.match.params.album_id,h=N((function(e){return e.accessToken}));return N((function(e){return e.selectedTrackToPlay})),Object(a.useEffect)((function(){window.scrollTo(0,0),function(e,t){return fetch(f+"albums/"+t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e}}).then((function(e){return e.json()}))}(h,p).then((function(e){var t;console.log(e),c({name:e.name,artist:e.artists[0],image:(null===(t=e.images[0])||void 0===t?void 0:t.url)||xe,genres:e.genres})})),function(e,t){return fetch(f+"albums/"+t+"/tracks?limit=50",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e}}).then((function(e){return e.json()}))}(h,p).then((function(e){console.log("TRACKS",e),d(e.items)}))}),[e]),Object(a.useEffect)((function(){var e;(null===(e=s.artist)||void 0===e?void 0:e.id)&&x(h,s.artist.id).then((function(e){console.log("ALBUMS",e),m(e.items)}))}),[s]),Object(A.jsxs)("div",{className:"albumPageWrapper",children:[Object(A.jsxs)("div",{className:"albumPageHeader",children:[Object(A.jsx)("div",{className:"albumPageBanner",children:s.name}),Object(A.jsx)("div",{className:"viewsSubBanner",children:Object(A.jsx)(i.b,{to:"/artists/"+s.artist.id,children:s.artist.name})})]}),Object(A.jsxs)("div",{className:"albumPageBody",children:[Object(A.jsx)("div",{className:"bodyLeftRow",children:s.image?Object(A.jsx)("div",{className:"albumPageMainArt",children:Object(A.jsx)("img",{className:"albumPageMainArt",src:s.image,alt:"cover_art"})}):Object(A.jsx)(ge.a.Image,{})}),Object(A.jsx)("div",{className:"bodyRightRow",children:l.length?Object(A.jsx)(K,{songs:l,albumName:s.name}):Object(A.jsx)(R.a,{active:!0,size:"big",children:"Loading . . ."})})]}),Object(A.jsxs)("div",{className:"albumPageAlbumsColumn",children:[Object(A.jsxs)("div",{className:"viewsSubBanner",children:["Albums By ",s.artist.name," "]}),Object(A.jsx)(Ne,{albums:b})]})]})},Te=(n(205),n(206),n.p+"static/media/artistPlaceholder.e61e3e30.png");var Pe=function(e){var t;return console.log("FROM ARTISTS CARD",e),Object(A.jsx)("div",{className:"artistsCardWrapper",children:Object(A.jsxs)(U.a,{className:"artistCard",children:[Object(A.jsx)(U.a.Header,{children:Object(A.jsx)(i.b,{to:"/artists/"+e.artist.id,children:e.artist.name})}),Object(A.jsx)(U.a.Img,{variant:"bottom",src:(null===(t=e.artist.images[0])||void 0===t?void 0:t.url)||Te})]})})};var we=function(e){return Object(A.jsx)("div",{className:"artistsListWrapper",children:Object(A.jsx)("div",{className:"artistsListCardContainer",children:e.artists.map((function(e){return Object(A.jsx)(Pe,{artist:e},e.id)}))})})};var ke=function(e){var t=N((function(e){return e.accessToken})),n=e.match.params.artist_id,s=(N((function(e){return e.selectedTrackToPlay})),Object(a.useState)({genres:[],name:"",image:{},followers:{}})),c=Object(C.a)(s,2),r=c[0],i=c[1],o=Object(a.useState)([]),d=Object(C.a)(o,2),u=d[0],j=d[1],b=Object(a.useState)([]),m=Object(C.a)(b,2),p=m[0],h=m[1],O=Object(a.useState)([]),v=Object(C.a)(O,2),g=v[0],y=v[1],T=Object(a.useState)(0),P=Object(C.a)(T,2),w=P[0],k=P[1],S=Object(a.useState)(0),E=Object(C.a)(S,2),L=E[0],B=E[1];return Object(a.useEffect)((function(){window.scrollTo(0,0),function(e,t){return fetch(f+"artists/"+t,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e}}).then((function(e){return e.json()}))}(t,n).then((function(e){i({genres:e.genres,name:e.name,image:e.images[1].url,followers:e.followers})})),x(t,n).then((function(e){j(e.items),k(e.total)})),function(e,t){return fetch(f+"artists/"+t+"/toptracks?market=US",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e}}).then((function(e){return e.json()}))}(t,n).then((function(e){h(e.tracks)})),function(e,t){return fetch(f+"artists/"+t+"/related-artists",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+e}}).then((function(e){return e.json()}))}(t,n).then((function(e){y(e.artists)}))}),[e]),Object(A.jsxs)("div",{className:"artistPageWrapper",children:[Object(A.jsxs)("div",{className:"artistPageHeader",children:[Object(A.jsxs)("div",{className:"headerLeftRow",children:[r.image?Object(A.jsx)("div",{className:"artistPageMainArt",style:{backgroundImage:"url(".concat(r.image,")"),backgroundSize:"cover"}}):Object(A.jsx)(ge.a.Image,{}),Object(A.jsx)("div",{className:"artistPageBanner",children:r.name})]}),Object(A.jsxs)("div",{className:"headerRightRow",children:[Object(A.jsx)("div",{className:"viewsSubBanner",children:"top tracks"}),p.length?Object(A.jsx)("div",{className:"artistSongListWrapper",children:Object(A.jsx)(K,{songs:p})}):Object(A.jsx)(R.a,{active:!0,size:"big",children:"Loading . . ."})]})]}),Object(A.jsxs)("div",{className:"artistPageBody",children:[Object(A.jsxs)("div",{className:"artistPageAlbumsColumn",children:[Object(A.jsxs)("div",{className:"viewsSubBanner",children:["appears on ",w," albums"]}),Object(A.jsx)(Ne,{albums:u,infiniteScrollCallback:function(){if(u.length<w)return x(t,n,10,L).then((function(e){var t=e.items.filter((function(e){return!u.includes(e)})),n=[].concat(Object(l.a)(u),Object(l.a)(t));console.log(t),j(n)})).then(B((function(e){return e+10})))}})]}),Object(A.jsxs)("div",{className:"artistPageArtistsColumn",children:[Object(A.jsx)("div",{className:"viewsSubBanner",children:"related artists"}),Object(A.jsx)(we,{artists:g})]})]})]})};var Se=function(e){var t=N((function(e){return e.accessToken})),n=(N((function(e){return e.selectedTrackToPlay})),e.match.params.query),s=Object(a.useState)([]),c=Object(C.a)(s,2),r=c[0],i=c[1],o=Object(a.useState)([]),l=Object(C.a)(o,2),d=l[0],u=l[1],j=Object(a.useState)([]),b=Object(C.a)(j,2),m=b[0],p=b[1];return Object(a.useEffect)((function(){g(t,n,"track").then((function(e){console.log("SEARCH TRACKS",e),i(e.tracks.items)})),g(t,n,"artist").then((function(e){console.log("SEARCH ARTISTS",e),u(e.artists.items)})),g(t,n,"album").then((function(e){console.log("SEARCH ALBUMS",e),p(e.albums.items)}))}),[e]),Object(A.jsxs)("div",{className:"searchPageWrapper",children:[Object(A.jsx)("div",{className:"searchPageHeader",children:Object(A.jsxs)("div",{className:"viewsSubBanner",children:["Showing Results For ",decodeURIComponent(n)]})}),Object(A.jsxs)("div",{className:"searchPageBody",children:[Object(A.jsxs)("div",{className:"searchPageArtistsColumn",children:[Object(A.jsx)("div",{className:"viewsSubBanner",children:"artists"}),Object(A.jsx)(we,{artists:d})]}),Object(A.jsxs)("div",{className:"searchPageTracksColumn",children:[Object(A.jsx)("div",{className:"viewsSubBanner",children:"tracks"}),Object(A.jsx)(K,{songs:r})]}),Object(A.jsxs)("div",{className:"searchPageAlbumsColumn",children:[Object(A.jsx)("div",{className:"viewsSubBanner",children:"albums"}),Object(A.jsx)(Ne,{albums:m})]})]})]})},Ae=n(154),Ee=n.n(Ae);var Le=function(){var e=N((function(e){return e.accessToken})),t=N((function(e){return e.user})),n=N((function(e){return e.selectedTrackToPlay}));return Object(A.jsxs)("div",{className:"App",children:[Object(A.jsx)(ve,{}),Object(A.jsxs)("div",{className:"appBody",children:[e&&t.moodifyToken&&Object(A.jsxs)("div",{className:"appLeftColumn",children:[Object(A.jsx)("div",{className:"searchBarDiv",children:Object(A.jsx)(fe,{})}),Object(A.jsx)("div",{className:"audioPlayerWrapper",children:Object(A.jsx)(Ee.a,{className:"browsePagePlayer",src:n,controls:!0})}),Object(A.jsx)("div",{className:"playlistCreationWrapper",children:Object(A.jsx)(be,{})})]}),Object(A.jsx)("div",{className:"appRightColumn",children:Object(A.jsxs)(o.c,{children:[Object(A.jsx)(o.a,{exact:!0,path:"/",component:I}),Object(A.jsx)(o.a,{exact:!0,path:"/home",component:he}),Object(A.jsx)(o.a,{exact:!0,path:"/browse",component:V}),Object(A.jsx)(o.a,{path:"/browse/:mood",component:se}),Object(A.jsx)(o.a,{exact:!0,path:"/playlists/:playlist_id",component:ne}),Object(A.jsx)(o.a,{exact:!0,path:"/albums/:album_id",component:Ce}),Object(A.jsx)(o.a,{exact:!0,path:"/artists/:artist_id",component:ke}),Object(A.jsx)(o.a,{exact:!0,path:"/search/:query",component:Se}),Object(A.jsx)(o.a,{exact:!0,path:"/userProfile",component:pe}),Object(A.jsx)(o.a,{path:"*",component:ae})]})})]}),Object(A.jsx)("div",{className:"playerContainer"})]})},Be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,233)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),s(e),c(e),r(e)}))};r.a.render(Object(A.jsx)(s.a.StrictMode,{children:Object(A.jsx)(i.a,{basename:"/capstonegroup7",children:Object(A.jsx)(Le,{})})}),document.getElementById("root")),Be()},70:function(e,t,n){}},[[207,1,2]]]);
//# sourceMappingURL=main.e02e3bd4.chunk.js.map